<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/veiculos"></ion-back-button>
    </ion-buttons>
    <ion-title>Cadastrar veículo</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" >
  
  <ion-item>
    <ion-label position="floating">Placa <ion-text color="danger">*</ion-text></ion-label>
    <ion-input  type="text" [(ngModel)]= "placa" class="text-transform-uppercase"></ion-input>
  </ion-item>

  <ion-item>
    <ion-label>Cor <ion-text color="danger">*</ion-text></ion-label>
    <ion-select [(ngModel)] ="cor">
      <ion-select-option value="Azul">Azul</ion-select-option>
      <ion-select-option value="Amarelo">Amarelo</ion-select-option>
      <ion-select-option value="Branco">Branco</ion-select-option>
      <ion-select-option value="Cinza">Cinza</ion-select-option>
      <ion-select-option value="Marrom">Marrom</ion-select-option>
      <ion-select-option value="Prata">Prata</ion-select-option>
      <ion-select-option value="Preto">Preto</ion-select-option>
      <ion-select-option value="Vermelho">Vermelho</ion-select-option>
      <ion-select-option value="Verde">Verde</ion-select-option>
    </ion-select>
  </ion-item>

  <ion-item>
    <ion-label>Marca <ion-text color="danger">*</ion-text></ion-label>
    <ion-select [(ngModel)] ="idMarcaSelecionada" (ionChange)="carregarModelos()">
      <ion-select-option *ngFor="let marca of marcas" [value]="marca.id">{{marca.nome}}</ion-select-option>
    </ion-select>
  </ion-item>
  
  <ion-item>
    <ion-label>Modelo <ion-text color="danger">*</ion-text></ion-label>
    <ion-select [(ngModel)] ="idModeloSelecionado" [disabled]="modelosDaMarca.length > 0 ? 'false':'true'">
      <ion-select-option *ngFor="let modelo of modelosDaMarca" [value]="modelo.id">{{modelo.nome}}</ion-select-option>
    </ion-select>
  </ion-item>
  
  <ion-button (click)="cadastrarVeiculo()" class="botao-salvar" size="large" shape ="round" expand="block" color="secondary">
    Salvar
  </ion-button>

    <!--Listagem. Somente exemplificação-->
    <ion-list *ngIf="veiculosCadastrados.length > 0">
      <ion-list-header>
        Meus Veículos
      </ion-list-header>

      <ion-item *ngFor="let veiculo of veiculosCadastrados" class="item-lista">
        <ion-col size="6">
          <img src= {{veiculo.modelo.urlImgModelo}} >
        </ion-col>
        <ion-col size="6">
          <ion-label>
            <h2>{{veiculo.placa}}</h2>
            <ion-text color="medium">
              <h3>{{veiculo.marca.nome}}</h3>
              <h5>{{veiculo.modelo.nome}}</h5>
            </ion-text>
          </ion-label>
        </ion-col>
      </ion-item>


  </ion-list>

</ion-content>
